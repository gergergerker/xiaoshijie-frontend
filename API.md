# æ™“æ—¶èŠ‚å°ç¨‹åº API æ¥å£æ–‡æ¡£

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†æ™“æ—¶èŠ‚å°ç¨‹åºæ‰€éœ€çš„åç«¯APIæ¥å£è§„èŒƒï¼Œä¾›åç«¯å¼€å‘äººå‘˜å‚è€ƒå®ç°ã€‚

## æ¥å£é€šç”¨è§„èŒƒ

### åŸºç¡€URL

æ‰€æœ‰APIæ¥å£éƒ½åº”ä»¥ `/api` ä½œä¸ºå‰ç¼€ã€‚

### å“åº”æ ¼å¼

æ‰€æœ‰æ¥å£ç»Ÿä¸€è¿”å›JSONæ ¼å¼ï¼ŒåŸºæœ¬ç»“æ„å¦‚ä¸‹ï¼š

```json
{
  "success": true,         // è¡¨ç¤ºè¯·æ±‚æ˜¯å¦æˆåŠŸ
  "message": "success",    // çŠ¶æ€æ¶ˆæ¯
  "data": {}               // è¿”å›æ•°æ®
}
```

### é”™è¯¯å¤„ç†

å½“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œåº”è¿”å›å¦‚ä¸‹æ ¼å¼ï¼š

```json
{
  "success": false,        // è¯·æ±‚å¤±è´¥
  "message": "å‚æ•°é”™è¯¯",    // é”™è¯¯ä¿¡æ¯
  "error_code": 1001       // é”™è¯¯ç 
}
```

## åŸå¸‚å¡ç‰‡æ¥å£

### 1. è·å–åŸå¸‚å¡ç‰‡åˆ—è¡¨

**æ¥å£æè¿°**ï¼šè·å–åŸå¸‚å¡ç‰‡åˆ—è¡¨ï¼ŒæŒ‰æœˆä»½åˆ†ç»„æ˜¾ç¤ºï¼Œä¸€å¤©æ›´æ–°ä¸€ä¸ªåŸå¸‚

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/cities`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "year": 2023,                  // å¹´ä»½
  "month": 5,                    // å¯é€‰ï¼Œæœˆä»½ï¼Œä¸ä¼ åˆ™è¿”å›æ•´å¹´
  "page": 1,                     // é¡µç 
  "pageSize": 31                 // æ¯é¡µæ•°é‡ï¼Œé»˜è®¤ä¸º31ï¼ˆä¸€ä¸ªæœˆæœ€å¤š31å¤©ï¼‰
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "cities": [
      {
        "id": "string",          // åŸå¸‚ID
        "title": "æ­å·",          // åŸå¸‚æ ‡é¢˜/åç§°
        "englishName": "Hangzhou", // è‹±æ–‡åç§°
        "date": "2023-05-01",    // å‘å¸ƒæ—¥æœŸï¼Œæ ¼å¼ï¼šYYYY-MM-DD
        "coverUrl": "string",    // å°é¢å›¾ç‰‡URL
        "thumbnailUrl": "string", // ç¼©ç•¥å›¾URLï¼ˆè‡ªåŠ¨ä»å°é¢ç”Ÿæˆï¼Œæ— éœ€å•ç‹¬ä¸Šä¼ ï¼‰
        "unlocked": true,        // æ˜¯å¦å·²è§£é”
        "collectDate": "string", // ç”¨æˆ·æ”¶é›†æ—¥æœŸï¼Œæœªæ”¶é›†åˆ™ä¸ºnull
        "seasonInfo": {          // å­£èŠ‚ä¿¡æ¯
          "name": "spring",      // å­£èŠ‚åç§°ï¼šspring, summer, autumn, winter
          "bgColor": "#fff0f5",  // å­£èŠ‚èƒŒæ™¯è‰²
          "emoji": "ğŸŒ¸"          // å­£èŠ‚å¯¹åº”è¡¨æƒ…
        }
      }
    ],
    "pagination": {
      "total": 365,              // æ€»æ•°é‡
      "current": 1,              // å½“å‰é¡µç 
      "pages": 12                // æ€»é¡µæ•°
    }
  }
}
```

### 2. è·å–åŸå¸‚å¡ç‰‡è¯¦æƒ…

**æ¥å£æè¿°**ï¼šè·å–åŸå¸‚å¡ç‰‡è¯¦ç»†å†…å®¹

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/cities/detail`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "cityId": "string"            // åŸå¸‚ID
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "id": "string",             // åŸå¸‚ID
    "title": "æ­å·",             // åŸå¸‚æ ‡é¢˜/åç§°
    "englishName": "Hangzhou",  // è‹±æ–‡åç§°
    "date": "2023-05-01",       // å‘å¸ƒæ—¥æœŸ
    "coverUrl": "string",       // å°é¢å›¾ç‰‡URL
    "videoUrl": "string",       // è§†é¢‘URLï¼Œå¯èƒ½ä¸ºnull
    "audioUrl": "string",       // éŸ³é¢‘è§£è¯´URLï¼Œå¯èƒ½ä¸ºnull
    "audioDuration": 180,       // éŸ³é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰
    
    "contentSections": [        // äº”ä¸ªæ–‡æœ¬å†…å®¹åŒºå—
      {
        "title": "åŸå¸‚ç®€ä»‹",      // åŒºå—æ ‡é¢˜
        "content": "string",     // åŒºå—æ–‡æœ¬å†…å®¹
        "imageUrl": "string"     // å¯¹åº”å›¾ç‰‡URL
      },
      {
        "title": "å†å²æ–‡åŒ–",
        "content": "string",
        "imageUrl": "string"
      },
      {
        "title": "åœ°ç†ä½ç½®",
        "content": "string",
        "imageUrl": "string"
      },
      {
        "title": "è‘—åæ™¯ç‚¹",
        "content": "string",
        "imageUrl": "string"
      },
      {
        "title": "ç¾é£Ÿç‰¹äº§",
        "content": "string",
        "imageUrl": "string"
      }
    ],
    
    "poetry": {                 // ç›¸å…³è¯—è¯
      "title": "é’±å¡˜æ¹–æ˜¥è¡Œ",     // è¯—è¯æ ‡é¢˜
      "author": "ç™½å±…æ˜“",        // ä½œè€…
      "dynasty": "å”ä»£",         // æœä»£
      "content": "å­¤å±±å¯ºåŒ—è´¾äº­è¥¿ï¼Œæ°´é¢åˆå¹³äº‘è„šä½...", // å†…å®¹
      "translation": "string"   // ç¿»è¯‘/æ³¨é‡Š
    },
    
    "printInfo": {              // æ‰“å°é¡µä¿¡æ¯
      "illustrationUrl": "string", // ç»˜å›¾A4é¡µé¢URL
      "textPage1Url": "string",    // æ–‡å­—A4é¡µé¢1 URL
      "textPage2Url": "string"     // æ–‡å­—A4é¡µé¢2 URL
    },
    
    "challenges": {             // æŒ‘æˆ˜é¢˜
      "singleChoice": {         // å•é€‰é¢˜
        "question": "æ­å·æœ€è‘—åçš„æ™¯ç‚¹æ˜¯ï¼Ÿ",
        "options": ["è¥¿æ¹–", "è¥¿å¡˜", "ä¹Œé•‡", "åƒå²›æ¹–"],
        "correctAnswer": 0      // æ­£ç¡®ç­”æ¡ˆç´¢å¼•
      },
      "multipleChoice": {       // å¤šé€‰é¢˜
        "question": "ä¸‹åˆ—å“ªäº›æ˜¯æ­å·çš„ç‰¹äº§ï¼Ÿ",
        "options": ["é¾™äº•èŒ¶", "è¥¿æ¹–é†‹é±¼", "ä¸œå¡è‚‰", "å°ç¬¼åŒ…"],
        "correctAnswers": [0, 1, 2] // æ­£ç¡®ç­”æ¡ˆç´¢å¼•æ•°ç»„
      },
      "puzzle": {               // æ‹¼å›¾æŒ‘æˆ˜
        "imageUrl": "string",   // å®Œæ•´å›¾ç‰‡URL
        "difficulty": 9         // éš¾åº¦ï¼ˆæ‹¼å›¾å—æ•°ï¼‰
      }
    },
    
    "unlockStatus": {           // è§£é”çŠ¶æ€
      "unlocked": true,         // æ˜¯å¦å·²è§£é”
      "unlockDate": "string",   // è§£é”æ—¥æœŸ
      "collectDate": "string"   // æ”¶é›†æ—¥æœŸï¼Œæœªæ”¶é›†åˆ™ä¸ºnull
    },
    
    "relatedCities": [          // ç›¸å…³åŸå¸‚æ¨è
      {
        "id": "string",
        "title": "è‹å·",
        "thumbnailUrl": "string"
      }
    ]
  }
}
```

### 3. åŸå¸‚å¡ç‰‡æ‰“å°æ¥å£

**æ¥å£æè¿°**ï¼šè·å–åŸå¸‚å¡ç‰‡æ‰“å°ç‰ˆæœ¬

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/cities/print`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "cityId": "string"            // åŸå¸‚ID
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "cityTitle": "æ­å·",         // åŸå¸‚åç§°
    "printFiles": [
      {
        "type": "illustration", // ç±»å‹ï¼šillustration(æ’å›¾), text(æ–‡æœ¬)
        "name": "æ­å·åŸå¸‚æ’å›¾",   // æ–‡ä»¶åç§°
        "fileUrl": "string",    // æ–‡ä»¶URLï¼ˆPDFæ ¼å¼ï¼‰
        "thumbnailUrl": "string" // ç¼©ç•¥å›¾URL
      },
      {
        "type": "text",
        "name": "æ­å·åŸå¸‚ä»‹ç»(1)",
        "fileUrl": "string",
        "thumbnailUrl": "string"
      },
      {
        "type": "text",
        "name": "æ­å·åŸå¸‚ä»‹ç»(2)",
        "fileUrl": "string",
        "thumbnailUrl": "string"
      }
    ],
    "combinedPdfUrl": "string", // åˆå¹¶ç‰ˆPDFçš„URL
    "qrCode": "string"          // åˆ†äº«äºŒç»´ç URL
  }
}
```

### 4. å®ŒæˆåŸå¸‚æŒ‘æˆ˜

**æ¥å£æè¿°**ï¼šæäº¤åŸå¸‚æŒ‘æˆ˜çš„å®Œæˆç»“æœï¼Œè§£é”å®Œæ•´åŸå¸‚å†…å®¹

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**æ¥å£åœ°å€**ï¼š`/api/cities/challenge/complete`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "cityId": "string",           // åŸå¸‚ID
  "challengeType": "string",    // æŒ‘æˆ˜ç±»å‹ï¼šsingleChoice, multipleChoice, puzzle
  "isCorrect": true,            // æ˜¯å¦æ­£ç¡®å®Œæˆ
  "timeUsed": 30                // å®Œæˆç”¨æ—¶ï¼ˆç§’ï¼‰
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "cityId": "string",         // åŸå¸‚ID
    "unlocked": true,           // æ˜¯å¦è§£é”æˆåŠŸ
    "rewards": {                // å¥–åŠ±
      "points": 10,             // è·å¾—ç§¯åˆ†
      "trees": 1                // è·å¾—æ ‘æœ¨æ•°é‡
    },
    "completedChallenges": ["singleChoice", "multipleChoice"], // å·²å®Œæˆçš„æŒ‘æˆ˜
    "remainingChallenges": ["puzzle"] // å‰©ä½™æŒ‘æˆ˜
  }
}
```

### 5. è·å–åŸå¸‚éŸ³é¢‘

**æ¥å£æè¿°**ï¼šè·å–åŸå¸‚éŸ³é¢‘è§£è¯´

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/cities/audio`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "cityId": "string"            // åŸå¸‚ID
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "audioUrl": "string",       // éŸ³é¢‘URL
    "duration": 180,            // æ—¶é•¿ï¼ˆç§’ï¼‰
    "transcript": "string",     // æ–‡å­—ç¨¿
    "chapters": [               // éŸ³é¢‘ç« èŠ‚æ ‡è®°ç‚¹
      {
        "title": "åŸå¸‚ç®€ä»‹",     // ç« èŠ‚æ ‡é¢˜
        "startTime": 0          // å¼€å§‹æ—¶é—´ç‚¹ï¼ˆç§’ï¼‰
      },
      {
        "title": "å†å²æ–‡åŒ–",
        "startTime": 45
      }
    ]
  }
}
```

## å†…å®¹ç®¡ç†æ¥å£ (ç®¡ç†å‘˜)

### 1. åˆ›å»º/æ›´æ–°åŸå¸‚å¡ç‰‡

**æ¥å£æè¿°**ï¼šåˆ›å»ºæˆ–æ›´æ–°åŸå¸‚å¡ç‰‡å†…å®¹ï¼ˆç®¡ç†å‘˜æ¥å£ï¼‰

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**æ¥å£åœ°å€**ï¼š`/api/admin/cities`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "id": "string",              // åŸå¸‚IDï¼Œæ›´æ–°æ—¶æä¾›ï¼Œæ–°å»ºæ—¶å¯ä¸æä¾›
  "title": "æ­å·",              // åŸå¸‚æ ‡é¢˜/åç§°
  "englishName": "Hangzhou",   // è‹±æ–‡åç§°
  "date": "2023-05-01",        // å‘å¸ƒæ—¥æœŸ
  "coverImage": "file",        // å°é¢å›¾ç‰‡æ–‡ä»¶ï¼ˆç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆç¼©ç•¥å›¾ï¼Œæ— éœ€å•ç‹¬ä¸Šä¼ ï¼‰
  "videoUrl": "string",        // è§†é¢‘URL
  "audioFile": "file",         // éŸ³é¢‘æ–‡ä»¶
  
  "contentSections": [         // äº”ä¸ªæ–‡æœ¬å†…å®¹åŒºå—
    {
      "title": "åŸå¸‚ç®€ä»‹",      // åŒºå—æ ‡é¢˜
      "content": "string",     // åŒºå—æ–‡æœ¬å†…å®¹
      "image": "file"          // å¯¹åº”å›¾ç‰‡æ–‡ä»¶
    },
    // ... å…¶ä»–å››ä¸ªåŒºå—
  ],
  
  "poetry": {                  // ç›¸å…³è¯—è¯
    "title": "é’±å¡˜æ¹–æ˜¥è¡Œ",      // è¯—è¯æ ‡é¢˜
    "author": "ç™½å±…æ˜“",         // ä½œè€…
    "dynasty": "å”ä»£",          // æœä»£
    "content": "string",       // å†…å®¹
    "translation": "string"    // ç¿»è¯‘/æ³¨é‡Š
  },
  
  "printFiles": [              // æ‰“å°é¡µæ–‡ä»¶
    {
      "type": "illustration",  // ç±»å‹
      "file": "file"           // æ–‡ä»¶
    },
    // ... å…¶ä»–æ‰“å°é¡µ
  ],
  
  "challenges": {              // æŒ‘æˆ˜é¢˜
    "singleChoice": {
      "question": "string",
      "options": ["string"],
      "correctAnswer": 0
    },
    "multipleChoice": {
      "question": "string",
      "options": ["string"],
      "correctAnswers": [0, 1]
    },
    "puzzleImage": "file"      // æ‹¼å›¾å›¾ç‰‡æ–‡ä»¶
  },
  
  "isPublished": true          // æ˜¯å¦å‘å¸ƒ
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "id": "string",            // åŸå¸‚ID
    "title": "æ­å·",
    "date": "2023-05-01",
    "isPublished": true,
    "createTime": "string",    // åˆ›å»ºæ—¶é—´
    "updateTime": "string"     // æ›´æ–°æ—¶é—´
  }
}
```

### 2. åŸå¸‚å¡ç‰‡å‘å¸ƒçŠ¶æ€ç®¡ç†

**æ¥å£æè¿°**ï¼šæ›´æ”¹åŸå¸‚å¡ç‰‡çš„å‘å¸ƒçŠ¶æ€ï¼ˆç®¡ç†å‘˜æ¥å£ï¼‰

**è¯·æ±‚æ–¹æ³•**ï¼šPUT

**æ¥å£åœ°å€**ï¼š`/api/admin/cities/publish`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "cityId": "string",         // åŸå¸‚ID
  "isPublished": true         // æ˜¯å¦å‘å¸ƒ
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "id": "string",
    "title": "æ­å·",
    "isPublished": true,
    "updateTime": "string"    // æ›´æ–°æ—¶é—´
  }
}
```

## åšç‰©é¦†æ¥å£

### 1. è·å–åŸå¸‚åšç‰©é¦†ç« èŠ‚åˆ—è¡¨

**æ¥å£æè¿°**ï¼šè·å–åŸå¸‚åšç‰©é¦†çš„æ‰€æœ‰ç« èŠ‚åˆ—è¡¨

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/museum/city/chapters`

**è¯·æ±‚å‚æ•°**ï¼šæ— 

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "chapters": [
      {
        "id": "concept",        // ç« èŠ‚ID
        "name": "æ¦‚å¿µç¯‡",        // ç« èŠ‚åç§°
        "description": "åŸå¸‚æ¦‚å¿µçš„å‘å±•ä¸æ¼”å˜", // ç« èŠ‚æè¿°
        "unlocked": true,       // æ˜¯å¦å·²è§£é”
        "iconUrl": "string"     // ç« èŠ‚å›¾æ ‡URL
      },
      {
        "id": "origin",         // ç« èŠ‚ID
        "name": "èµ·æºç¯‡",        // ç« èŠ‚åç§°
        "description": "åŸå¸‚èµ·æºä¸æ—©æœŸå‘å±•", // ç« èŠ‚æè¿°
        "unlocked": true,       // æ˜¯å¦å·²è§£é”
        "iconUrl": "string"     // ç« èŠ‚å›¾æ ‡URL
      }
    ]
  }
}
```

### 2. è·å–åŸå¸‚åšç‰©é¦†ç« èŠ‚è¯¦æƒ…

**æ¥å£æè¿°**ï¼šè·å–åŸå¸‚åšç‰©é¦†ç‰¹å®šç« èŠ‚çš„è¯¦ç»†å†…å®¹

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/museum/city/chapter`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "chapterId": "concept"         // ç« èŠ‚ID
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "id": "concept",            // ç« èŠ‚ID
    "name": "æ¦‚å¿µç¯‡",            // ç« èŠ‚åç§°
    "description": "åŸå¸‚æ¦‚å¿µçš„å‘å±•ä¸æ¼”å˜", // ç« èŠ‚æè¿°
    "content": [                // ç« èŠ‚å†…å®¹ï¼Œæ”¯æŒå¯Œæ–‡æœ¬æ ¼å¼
      {
        "type": "text",         // å†…å®¹ç±»å‹ï¼štext, image, quote
        "value": "åŸå¸‚æ˜¯ä¸€ç§å¤æ‚çš„ç¤¾ä¼šç»„ç»‡å½¢å¼..." // å†…å®¹æ–‡å­—
      },
      {
        "type": "image",        // å›¾ç‰‡ç±»å‹
        "url": "string",        // å›¾ç‰‡URL
        "caption": "å¤ä»£åŸå¸‚ç¤ºæ„å›¾" // å›¾ç‰‡è¯´æ˜
      },
      {
        "type": "quote",        // å¼•ç”¨ç±»å‹
        "text": "åŸå¸‚è®©ç”Ÿæ´»æ›´ç¾å¥½", // å¼•ç”¨å†…å®¹
        "author": "äºšé‡Œå£«å¤šå¾·"    // å¼•ç”¨ä½œè€…
      }
    ],
    "relatedResources": [       // ç›¸å…³èµ„æº
      {
        "type": "article",      // èµ„æºç±»å‹ï¼šarticle, video, audio
        "title": "ä¸­å›½å¤ä»£åŸå¸‚çš„ç‰¹ç‚¹", // èµ„æºæ ‡é¢˜
        "url": "string"         // èµ„æºé“¾æ¥
      }
    ]
  }
}
```

### 3. è·å–è¯—ç”»å¤åŸæ•°æ®

**æ¥å£æè¿°**ï¼šè·å–åŸå¸‚ä¸è¯—è¯çš„å…³è”æ•°æ®

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/museum/city/poetry`

**è¯·æ±‚å‚æ•°**ï¼šæ— 

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "cityPoetry": [
      {
        "verse": "å§‘è‹åŸå¤–å¯’å±±å¯ºï¼Œå¤œåŠé’Ÿå£°åˆ°å®¢èˆ¹", // è¯—å¥
        "title": "æ«æ¡¥å¤œæ³Š",      // è¯—è¯æ ‡é¢˜
        "poet": "å¼ ç»§",          // è¯—äºº
        "city": "è‹å·",          // å…³è”åŸå¸‚
        "dynasty": "å”ä»£",       // æœä»£
        "imageUrl": "string"    // é…å›¾URL
      },
      {
        "verse": "æ¥å¤©è²å¶æ— ç©·ç¢§ï¼Œæ˜ æ—¥è·èŠ±åˆ«æ ·çº¢", // è¯—å¥
        "title": "æ™“å‡ºå‡€æ…ˆå¯ºé€æ—å­æ–¹", // è¯—è¯æ ‡é¢˜
        "poet": "æ¨ä¸‡é‡Œ",         // è¯—äºº
        "city": "æ­å·",           // å…³è”åŸå¸‚
        "dynasty": "å®‹ä»£",        // æœä»£
        "imageUrl": "string"     // é…å›¾URL
      }
    ]
  }
}
```

### 4. è·å–æ—¶èŠ‚åšç‰©é¦†åŒºåŸŸåˆ—è¡¨

**æ¥å£æè¿°**ï¼šè·å–æ—¶èŠ‚åšç‰©é¦†çš„æ‰€æœ‰åŒºåŸŸåˆ—è¡¨

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/museum/season/areas`

**è¯·æ±‚å‚æ•°**ï¼šæ— 

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "areas": [
      {
        "id": "astronomy",       // åŒºåŸŸID
        "name": "å¤©æ–‡åŒº",         // åŒºåŸŸåç§°
        "description": "æ¢ç´¢äºŒåå››èŠ‚æ°”ä¸å¤©æ–‡å­¦çš„å…³ç³»", // åŒºåŸŸæè¿°
        "unlocked": true,        // æ˜¯å¦å·²è§£é”
        "iconUrl": "string"      // åŒºåŸŸå›¾æ ‡URL
      },
      {
        "id": "climate",         // åŒºåŸŸID
        "name": "æ°”å€™åŒº",         // åŒºåŸŸåç§°
        "description": "äº†è§£äºŒåå››èŠ‚æ°”ä¸æ°”å€™å˜åŒ–çš„å…³è”", // åŒºåŸŸæè¿°
        "unlocked": true,        // æ˜¯å¦å·²è§£é”
        "iconUrl": "string"      // åŒºåŸŸå›¾æ ‡URL
      }
    ]
  }
}
```

### 5. è·å–æ—¶èŠ‚åšç‰©é¦†åŒºåŸŸè¯¦æƒ…

**æ¥å£æè¿°**ï¼šè·å–æ—¶èŠ‚åšç‰©é¦†ç‰¹å®šåŒºåŸŸçš„è¯¦ç»†å†…å®¹

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/museum/season/area`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "areaId": "astronomy"         // åŒºåŸŸID
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "id": "astronomy",          // åŒºåŸŸID
    "name": "å¤©æ–‡åŒº",            // åŒºåŸŸåç§°
    "description": "æ¢ç´¢äºŒåå››èŠ‚æ°”ä¸å¤©æ–‡å­¦çš„å…³ç³»", // åŒºåŸŸæè¿°
    "content": [                // åŒºåŸŸå†…å®¹ï¼Œæ”¯æŒå¯Œæ–‡æœ¬æ ¼å¼
      {
        "type": "text",         // å†…å®¹ç±»å‹ï¼štext, image, quote
        "value": "äºŒåå››èŠ‚æ°”æ˜¯æ ¹æ®åœ°çƒç»•æ—¥è¿è¡Œè½¨è¿¹è€Œåˆ¶å®šçš„..." // å†…å®¹æ–‡å­—
      },
      {
        "type": "image",        // å›¾ç‰‡ç±»å‹
        "url": "string",        // å›¾ç‰‡URL
        "caption": "èŠ‚æ°”ä¸å¤ªé˜³ä½ç½®å…³ç³»å›¾" // å›¾ç‰‡è¯´æ˜
      }
    ],
    "exhibits": [               // å±•å“åˆ—è¡¨
      {
        "id": "sundial",        // å±•å“ID
        "name": "æ—¥æ™·",          // å±•å“åç§°
        "description": "å¤ä»£æµ‹é‡æ—¶é—´çš„å¤©æ–‡ä»ªå™¨", // å±•å“æè¿°
        "imageUrl": "string",   // å±•å“å›¾ç‰‡URL
        "audioUrl": "string"    // è®²è§£éŸ³é¢‘URL
      }
    ]
  }
}
```

### 6. è·å–äºŒåå››èŠ‚æ°”ä¿¡æ¯

**æ¥å£æè¿°**ï¼šè·å–äºŒåå››èŠ‚æ°”çš„è¯¦ç»†ä¿¡æ¯

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/museum/season/solarterms`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "year": 2023,                // å¯é€‰ï¼Œå¹´ä»½ï¼Œä¸ä¼ é»˜è®¤å½“å¹´
  "month": 3                   // å¯é€‰ï¼Œæœˆä»½ï¼Œä¸ä¼ è¿”å›å…¨å¹´èŠ‚æ°”
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "solarTerms": [
      {
        "name": "ç«‹æ˜¥",          // èŠ‚æ°”åç§°
        "date": "2023-02-04",   // è¯¥å¹´èŠ‚æ°”æ—¥æœŸ
        "description": "ç«‹ï¼Œå»ºå§‹ä¹Ÿï¼Œæ˜¥æ°”å§‹è€Œå»ºç«‹ä¹Ÿã€‚", // èŠ‚æ°”ç®€ä»‹
        "phenology": [          // ç‰©å€™ç°è±¡
          "ä¸œé£è§£å†»",
          "è›°è™«å§‹æŒ¯",
          "é±¼é™Ÿè´Ÿå†°"
        ],
        "customs": [            // æ°‘ä¿—ä¹ æƒ¯
          {
            "name": "å’¬æ˜¥",      // ä¹ ä¿—åç§°
            "description": "åƒèåœã€é’èœç­‰æ—¶ä»¤è”¬èœ" // ä¹ ä¿—æè¿°
          }
        ],
        "imageUrl": "string"    // èŠ‚æ°”é…å›¾URL
      }
    ]
  }
}
```

## é˜µè¥åŠŸèƒ½æ¥å£

### 1. ç”¨æˆ·é˜µè¥é€‰æ‹©

**æ¥å£æè¿°**ï¼šç”¨æˆ·é€‰æ‹©åŠ å…¥çš„é˜µè¥ï¼Œæ¯ä¸ªç”¨æˆ·åªèƒ½é€‰æ‹©ä¸€æ¬¡

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**æ¥å£åœ°å€**ï¼š`/api/user/faction`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "userId": "string",     // ç”¨æˆ·ID
  "faction": "string"     // é˜µè¥é€‰æ‹©: "tower"(æ¥¼å°çƒŸé›¨ä¸­) æˆ– "rain"(å¥½é›¨çŸ¥æ—¶èŠ‚)
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "userId": "string",  // ç”¨æˆ·ID
    "faction": "string", // ç”¨æˆ·é˜µè¥
    "joinTime": "string" // åŠ å…¥æ—¶é—´
  }
}
```

### 2. è·å–ç”¨æˆ·é˜µè¥ä¿¡æ¯

**æ¥å£æè¿°**ï¼šè·å–å½“å‰ç”¨æˆ·çš„é˜µè¥ä¿¡æ¯

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/user/faction`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "userId": "string"  // ç”¨æˆ·ID
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "userId": "string",    // ç”¨æˆ·ID
    "faction": "string",   // "tower"æˆ–"rain"ï¼Œç©ºå­—ç¬¦ä¸²è¡¨ç¤ºæœªé€‰æ‹©
    "joinTime": "string",  // åŠ å…¥æ—¶é—´
    "contribution": 100    // å¯¹é˜µè¥çš„è´¡çŒ®å€¼
  }
}
```

## çŸ¥è¯†é¢˜ç›®æ¥å£

### 1. è·å–PKèµ›é¢˜ç›®

**æ¥å£æè¿°**ï¼šè·å–PKèµ›é¢˜ç›®ï¼Œæ¯å¤©19:30-19:45å›ºå®šæ›´æ–°å…¨æ–°é¢˜åº“

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/pk/questions`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "date": "2023-05-20",  // å½“å‰æ—¥æœŸï¼Œæ ¼å¼ï¼šYYYY-MM-DD
  "faction": "tower",    // ç”¨æˆ·é˜µè¥ï¼š"tower"æˆ–"rain"
  "version": "1.0"       // APIç‰ˆæœ¬å·
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "questions": {
      "single": [
        {
          "id": "string",           // é¢˜ç›®ID
          "text": "string",         // é¢˜ç›®å†…å®¹
          "options": ["string"],    // é€‰é¡¹æ•°ç»„
          "correctAnswer": 0        // æ­£ç¡®ç­”æ¡ˆç´¢å¼•
        }
      ],
      "multiple": [
        {
          "id": "string",               // é¢˜ç›®ID
          "text": "string",             // é¢˜ç›®å†…å®¹
          "options": ["string"],        // é€‰é¡¹æ•°ç»„
          "correctAnswers": [0, 1, 2]   // æ­£ç¡®ç­”æ¡ˆç´¢å¼•æ•°ç»„
        }
      ],
      "fill": [
        {
          "id": "string",                 // é¢˜ç›®ID
          "text": "string",               // é¢˜ç›®å†…å®¹
          "correctAnswer": "string",      // æ­£ç¡®ç­”æ¡ˆ
          "alternativeAnswers": ["string"] // å¯æ¥å—çš„æ›¿ä»£ç­”æ¡ˆ
        }
      ]
    }
  }
}
```

### 2. è·å–è®­ç»ƒé¢˜ç›®

**æ¥å£æè¿°**ï¼šè·å–è®­ç»ƒæ¨¡å¼é¢˜ç›®ï¼Œæ¯å¤©æ›´æ–°ï¼ŒåŒºåˆ†åŸå¸‚è®­ç»ƒå’Œæ—¶èŠ‚è®­ç»ƒ

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/training`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "type": "city",       // è®­ç»ƒç±»å‹ï¼š"city"(åŸå¸‚è®­ç»ƒ)æˆ–"season"(æ—¶èŠ‚è®­ç»ƒ)
  "date": "2023-05-20", // å½“å‰æ—¥æœŸï¼Œæ ¼å¼ï¼šYYYY-MM-DD
  "version": "1.0"      // APIç‰ˆæœ¬å·
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "questions": {
      "single": [
        {
          "id": "string",           // é¢˜ç›®ID
          "text": "string",         // é¢˜ç›®å†…å®¹
          "options": ["string"],    // é€‰é¡¹æ•°ç»„
          "correctAnswer": 0        // æ­£ç¡®ç­”æ¡ˆç´¢å¼•
        }
      ],
      "multiple": [
        {
          "id": "string",               // é¢˜ç›®ID
          "text": "string",             // é¢˜ç›®å†…å®¹
          "options": ["string"],        // é€‰é¡¹æ•°ç»„
          "correctAnswers": [0, 1, 2]   // æ­£ç¡®ç­”æ¡ˆç´¢å¼•æ•°ç»„
        }
      ],
      "fill": [
        {
          "id": "string",                 // é¢˜ç›®ID
          "text": "string",               // é¢˜ç›®å†…å®¹
          "correctAnswer": "string",      // æ­£ç¡®ç­”æ¡ˆ
          "alternativeAnswers": ["string"] // å¯æ¥å—çš„æ›¿ä»£ç­”æ¡ˆ
        }
      ]
    }
  }
}
```

## ç­”é¢˜åŠŸèƒ½æ¥å£

### 1. æäº¤PKç­”æ¡ˆ

**æ¥å£æè¿°**ï¼šæäº¤PKç­”é¢˜ç»“æœ

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**æ¥å£åœ°å€**ï¼š`/api/pk/submit-answer`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "questionId": "string",         // é¢˜ç›®ID
  "questionType": "string",       // é¢˜ç›®ç±»å‹ï¼š"single"ã€"multiple"æˆ–"fill"
  "userAnswer": "mixed",          // ç”¨æˆ·ç­”æ¡ˆï¼šå•é€‰ä¸ºæ•°å­—ï¼Œå¤šé€‰ä¸ºæ•°ç»„ï¼Œå¡«ç©ºä¸ºå­—ç¬¦ä¸²
  "isCorrect": true,              // æ˜¯å¦æ­£ç¡®
  "timeUsed": 10,                 // ç­”é¢˜ç”¨æ—¶ï¼ˆç§’ï¼‰
  "faction": "tower",             // ç”¨æˆ·æ‰€å±é˜µè¥
  "timestamp": 1621504812000      // æ—¶é—´æˆ³
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "isCorrect": true,        // æ˜¯å¦æ­£ç¡®
    "score": 1,               // è·å¾—åˆ†æ•°
    "scores": {               // å½“å‰é˜µè¥å¾—åˆ†æƒ…å†µ
      "tower": 10,            // æ¥¼å°çƒŸé›¨ä¸­åˆ†æ•°
      "rain": 8               // å¥½é›¨çŸ¥æ—¶èŠ‚åˆ†æ•°
    }
  }
}
```

## PKç³»ç»Ÿæ¥å£

### 1. è·å–PKç»“æœ

**æ¥å£æè¿°**ï¼šè·å–PKèµ›äº‹ç»“æœï¼ŒåŒ…æ‹¬è·èƒœé˜µè¥ã€ä¸ªäººæ’åç­‰ä¿¡æ¯

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/pk/results`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "date": "2023-05-20",         // æ—¥æœŸï¼Œæ ¼å¼ï¼šYYYY-MM-DD
  "faction": "tower",           // ç”¨æˆ·é˜µè¥
  "correctAnswers": 10,         // ç”¨æˆ·æ­£ç¡®ç­”é¢˜æ•°
  "answeredQuestions": 15       // ç”¨æˆ·å·²ç­”é¢˜æ•°
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "winnerFaction": "tower",    // è·èƒœé˜µè¥ï¼š"tower"æˆ–"rain"
    "topPerformers": [           // æ’è¡Œæ¦œå‰åç”¨æˆ·
      {
        "name": "string",        // ç”¨æˆ·åç§°
        "faction": "string",     // ç”¨æˆ·é˜µè¥
        "score": 10,             // å¾—åˆ†
        "isCurrentUser": false   // æ˜¯å¦ä¸ºå½“å‰ç”¨æˆ·
      }
    ],
    "totalAnswers": 1250,        // æ€»ç­”é¢˜äººæ•°
    "avgCorrectRate": 75,        // å¹³å‡æ­£ç¡®ç‡
    "userRanking": 5,            // ç”¨æˆ·æ’å
    "userScore": 10,             // ç”¨æˆ·å¾—åˆ†
    "userReward": 2              // ç”¨æˆ·è·å¾—çš„æ ‘å¥–åŠ±
  }
}
```

### 2. è·å–æ’è¡Œæ¦œæ•°æ®

**æ¥å£æè¿°**ï¼šè·å–æ’è¡Œæ¦œæ•°æ®ï¼ŒåŒ…æ‹¬ä¸ªäººæ’åå’Œæ˜¨æ—¥è·èƒœé˜µè¥

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/leaderboard`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "date": "2023-05-20",                  // å½“å‰æ—¥æœŸ
  "yesterday": "2023-05-19"              // å‰ä¸€å¤©æ—¥æœŸï¼Œç”¨äºè·å–æ˜¨æ—¥è·èƒœé˜µè¥
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "users": [                     // æ’è¡Œæ¦œç”¨æˆ·åˆ—è¡¨
      {
        "name": "string",          // ç”¨æˆ·åç§°
        "faction": "string",       // ç”¨æˆ·é˜µè¥ï¼š"tower"æˆ–"rain"
        "score": 1000              // ç”¨æˆ·å¾—åˆ†
      }
    ],
    "dailyWinner": {               // æ˜¨æ—¥è·èƒœé˜µè¥
      "faction": "tower",          // è·èƒœé˜µè¥ï¼š"tower"æˆ–"rain"
      "score": 12580               // è·èƒœåˆ†æ•°
    },
    "factionCounts": {             // é˜µè¥äººæ•°
      "tower": 1256,               // æ¥¼å°çƒŸé›¨ä¸­äººæ•°
      "rain": 1378                 // å¥½é›¨çŸ¥æ—¶èŠ‚äººæ•°
    }
  }
}
```

## ä¼šå‘˜å®£ä¼ æ¥å£

### 1. è·å–ä¼šå‘˜ä»‹ç»ä¿¡æ¯

**æ¥å£æè¿°**ï¼šè·å–ä¼šå‘˜æƒç›Šã€ä»·æ ¼ç­‰å®£ä¼ ä¿¡æ¯

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/membership/info`

**è¯·æ±‚å‚æ•°**ï¼šæ— 

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "title": "æ™“æ—¶èŠ‚ä¼šå‘˜",
    "slogan": "æ¢ç´¢åŸå¸‚ä¸èŠ‚æ°”çš„å¥¥ç§˜",
    "bannerUrl": "string",          // ä¼šå‘˜å®£ä¼ æ¨ªå¹…URL
    "monthlyPrice": 28,             // æœˆåº¦ä»·æ ¼ï¼ˆå…ƒï¼‰
    "yearlyPrice": 198,             // å¹´åº¦ä»·æ ¼ï¼ˆå…ƒï¼‰
    "yearlyOriginalPrice": 336,     // å¹´åº¦åŸä»·ï¼ˆå…ƒï¼‰
    "benefits": [                   // ä¼šå‘˜æƒç›Šåˆ—è¡¨
      {
        "title": "åŸå¸‚å¡ç‰‡å…¨è§£é”",
        "description": "365åº§åŸå¸‚ï¼Œæ¯æ—¥æ›´æ–°ï¼Œå°åˆ·çº§æ¸…æ™°åº¦ä¸‹è½½",
        "iconUrl": "string"
      },
      {
        "title": "åšç‰©é¦†å…¨è§£é”",
        "description": "æ™“åŸåšç‰©é¦†ä¸æ™“æ—¶åšç‰©é¦†å…¨éƒ¨å†…å®¹ç•…äº«",
        "iconUrl": "string"
      },
      {
        "title": "ä¼˜è´¨éŸ³é¢‘è§£è¯´",
        "description": "ä¸“ä¸šå½•éŸ³æ£šåˆ¶ä½œï¼Œæ²‰æµ¸å¼ä½“éªŒ",
        "iconUrl": "string"
      }
    ],
    "promotions": [                // ä¿ƒé”€æ´»åŠ¨
      {
        "id": "spring_festival",
        "title": "æ˜¥èŠ‚ç‰¹æƒ ",
        "description": "å¹´åº¦ä¼šå‘˜8æŠ˜ä¼˜æƒ ",
        "discountRate": 0.8,
        "startDate": "2023-01-20",
        "endDate": "2023-02-05"
      }
    ]
  }
}
```

### 2. ä¼šå‘˜è´­ä¹°/ç»­è´¹

**æ¥å£æè¿°**ï¼šåˆ›å»ºä¼šå‘˜è´­ä¹°è®¢å•

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**æ¥å£åœ°å€**ï¼š`/api/membership/order`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "userId": "string",         // ç”¨æˆ·ID
  "membershipType": "yearly", // ä¼šå‘˜ç±»å‹ï¼šmonthly(æœˆåº¦), yearly(å¹´åº¦)
  "paymentMethod": "wechat",  // æ”¯ä»˜æ–¹å¼ï¼šwechat(å¾®ä¿¡æ”¯ä»˜), alipay(æ”¯ä»˜å®)
  "promoCode": "string"       // å¯é€‰ï¼Œä¿ƒé”€ç 
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "orderId": "string",      // è®¢å•ID
    "amount": 198,            // æ”¯ä»˜é‡‘é¢
    "discounted": true,       // æ˜¯å¦æœ‰æŠ˜æ‰£
    "originalAmount": 336,    // åŸä»·
    "paymentParams": {        // æ”¯ä»˜å‚æ•°ï¼Œç”¨äºå‰ç«¯è°ƒèµ·æ”¯ä»˜
      "appId": "string",
      "timeStamp": "string",
      "nonceStr": "string",
      "package": "string",
      "signType": "string",
      "paySign": "string"
    },
    "expireTime": "string"    // è®¢å•è¿‡æœŸæ—¶é—´
  }
}
```

### 3. è·å–ç”¨æˆ·ä¼šå‘˜çŠ¶æ€

**æ¥å£æè¿°**ï¼šè·å–ç”¨æˆ·å½“å‰ä¼šå‘˜çŠ¶æ€ä¿¡æ¯

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/membership/status`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "userId": "string"          // ç”¨æˆ·ID
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "isMember": true,         // æ˜¯å¦æ˜¯ä¼šå‘˜
    "membershipType": "yearly", // ä¼šå‘˜ç±»å‹ï¼šmonthly(æœˆåº¦), yearly(å¹´åº¦)
    "startDate": "2023-01-01", // ä¼šå‘˜å¼€å§‹æ—¥æœŸ
    "expireDate": "2023-12-31", // ä¼šå‘˜è¿‡æœŸæ—¥æœŸ
    "autoRenew": true,        // æ˜¯å¦è‡ªåŠ¨ç»­è´¹
    "remainingDays": 245      // å‰©ä½™å¤©æ•°
  }
}
```

## åšç‰©é¦†å†…å®¹ç®¡ç†æ¥å£ (ç®¡ç†å‘˜)

### 1. ä¸Šä¼ æ™“åŸåšç‰©é¦†ç« èŠ‚A4å›¾ç‰‡ä¸éŸ³é¢‘

**æ¥å£æè¿°**ï¼šä¸Šä¼ æ™“åŸåšç‰©é¦†å„ç« èŠ‚çš„A4å±•ç¤ºå›¾ç‰‡å’Œè§£è¯´éŸ³é¢‘

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**æ¥å£åœ°å€**ï¼š`/api/admin/museum/city/chapter/resources`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "chapterId": "string",      // ç« èŠ‚ID: concept(æ¦‚å¿µç¯‡), origin(èµ·æºç¯‡), ancient(å¤åŸç¯‡), 
                              // scale(è§„æ¨¡ç¯‡), function(èŒèƒ½ç¯‡), location(ä½ç½®ç¯‡),
                              // pattern(å½¢æ€ç¯‡), capital(é¦–éƒ½ç¯‡), famous(åè‘—ç¯‡), naming(åç§°ç¯‡)
  "title": "æ¦‚å¿µç¯‡",           // ç« èŠ‚æ ‡é¢˜
  "a4Image": "file",          // A4å±•ç¤ºå›¾ç‰‡æ–‡ä»¶
  "audioFile": "file",        // éŸ³é¢‘æ–‡ä»¶
  "audioDuration": 180,       // éŸ³é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰
  "audioTranscript": "string" // éŸ³é¢‘æ–‡å­—ç¨¿
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "chapterId": "concept",
    "title": "æ¦‚å¿µç¯‡",
    "a4ImageUrl": "string",      // A4å›¾ç‰‡URL
    "audioUrl": "string",        // éŸ³é¢‘URL
    "thumbnailUrl": "string",    // ç¼©ç•¥å›¾URL
    "updateTime": "string"       // æ›´æ–°æ—¶é—´
  }
}
```

### 2. ä¸Šä¼ æ™“æ—¶åšç‰©é¦†èŠ‚æ°”åŒºåŸŸA4å›¾ç‰‡ä¸éŸ³é¢‘

**æ¥å£æè¿°**ï¼šä¸Šä¼ æ™“æ—¶åšç‰©é¦†èŠ‚æ°”åŒºåŸŸçš„A4å±•ç¤ºå›¾ç‰‡å’Œè§£è¯´éŸ³é¢‘

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**æ¥å£åœ°å€**ï¼š`/api/admin/museum/season/area/resources`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "areaId": "string",         // åŒºåŸŸID: base(åŸºç¡€), spring(æ˜¥å­£), summer(å¤å­£), 
                              // autumn(ç§‹å­£), winter(å†¬å­£), astronomy(å¤©æ–‡åŒº), 
                              // climate(æ°”å€™åŒº), tool(å·¥å…·åŒº), calendar(å†æ³•åŒº),
                              // crop(ä½œç‰©åŒº), painting(ç»˜ç”»åŒº), literature(æ–‡å­¦åŒº), music(éŸ³ä¹åŒº)
  "title": "æ˜¥å­£èŠ‚æ°”",         // åŒºåŸŸæ ‡é¢˜
  "a4Image": "file",          // A4å±•ç¤ºå›¾ç‰‡æ–‡ä»¶
  "audioFile": "file",        // éŸ³é¢‘æ–‡ä»¶
  "audioDuration": 180,       // éŸ³é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰
  "audioTranscript": "string" // éŸ³é¢‘æ–‡å­—ç¨¿
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "areaId": "spring",
    "title": "æ˜¥å­£èŠ‚æ°”",
    "a4ImageUrl": "string",      // A4å›¾ç‰‡URL
    "audioUrl": "string",        // éŸ³é¢‘URL
    "thumbnailUrl": "string",    // ç¼©ç•¥å›¾URL
    "updateTime": "string"       // æ›´æ–°æ—¶é—´
  }
}
```

### 3. è·å–æ™“åŸåšç‰©é¦†ç« èŠ‚A4èµ„æº

**æ¥å£æè¿°**ï¼šè·å–æ™“åŸåšç‰©é¦†ç‰¹å®šç« èŠ‚çš„A4å›¾ç‰‡ä¸éŸ³é¢‘èµ„æº

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/museum/city/chapter/resources`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "chapterId": "concept"      // ç« èŠ‚ID
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "chapterId": "concept",
    "title": "æ¦‚å¿µç¯‡",
    "a4ImageUrl": "string",      // A4å›¾ç‰‡URLï¼Œé€‚åˆç›´æ¥æ‰“å°
    "audioUrl": "string",        // éŸ³é¢‘URL
    "audioDuration": 180,        // éŸ³é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰
    "audioTranscript": "string", // éŸ³é¢‘æ–‡å­—ç¨¿
    "qrCode": "string"           // åˆ†äº«äºŒç»´ç URL
  }
}
```

### 4. è·å–æ™“æ—¶åšç‰©é¦†åŒºåŸŸA4èµ„æº

**æ¥å£æè¿°**ï¼šè·å–æ™“æ—¶åšç‰©é¦†ç‰¹å®šåŒºåŸŸçš„A4å›¾ç‰‡ä¸éŸ³é¢‘èµ„æº

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/museum/season/area/resources`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "areaId": "spring"          // åŒºåŸŸID
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "areaId": "spring",
    "title": "æ˜¥å­£èŠ‚æ°”",
    "a4ImageUrl": "string",      // A4å›¾ç‰‡URLï¼Œé€‚åˆç›´æ¥æ‰“å°
    "audioUrl": "string",        // éŸ³é¢‘URL
    "audioDuration": 180,        // éŸ³é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰
    "audioTranscript": "string", // éŸ³é¢‘æ–‡å­—ç¨¿
    "qrCode": "string"           // åˆ†äº«äºŒç»´ç URL
  }
}
```

### 5. ä¸Šä¼ æœˆä»½è½®æ’­å›¾ç‰‡

**æ¥å£æè¿°**ï¼šä¸Šä¼ æ—¶åºç»çº¬é¡µé¢12ä¸ªæœˆä»½çš„è½®æ’­å›¾ç‰‡

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**æ¥å£åœ°å€**ï¼š`/api/admin/time-sequence/month-carousel`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "month": 5,                  // æœˆä»½ï¼Œ1-12
  "carouselImage": "file",     // è½®æ’­å›¾ç‰‡æ–‡ä»¶
  "title": "äº”æœˆÂ·ç«‹å¤",         // è½®æ’­å›¾æ ‡é¢˜
  "description": "ä¸‡ç‰©è‡³æ­¤çš†é•¿å¤§ï¼Œæ•…åç«‹å¤" // è½®æ’­å›¾æè¿°
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "month": 5,
    "title": "äº”æœˆÂ·ç«‹å¤",
    "imageUrl": "string",       // å›¾ç‰‡URL
    "updateTime": "string"      // æ›´æ–°æ—¶é—´
  }
}
```

### 6. è·å–æœˆä»½è½®æ’­å›¾ç‰‡

**æ¥å£æè¿°**ï¼šè·å–æ—¶åºç»çº¬é¡µé¢æœˆä»½è½®æ’­å›¾ç‰‡

**è¯·æ±‚æ–¹æ³•**ï¼šGET

**æ¥å£åœ°å€**ï¼š`/api/time-sequence/month-carousel`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "month": 0                   // æœˆä»½ï¼Œ1-12ï¼Œ0è¡¨ç¤ºè·å–å…¨éƒ¨æœˆä»½
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "carousels": [
      {
        "month": 1,
        "title": "ä¸€æœˆÂ·å°å¯’",
        "description": "å°å¯’å°å¯’ï¼Œå¤©æ°”å¯’å†·ä½†æœªè¾¾æç‚¹",
        "imageUrl": "string"    // å›¾ç‰‡URL
      },
      {
        "month": 2,
        "title": "äºŒæœˆÂ·é›¨æ°´",
        "description": "é™é›¨å¼€å§‹ï¼Œé›ªæ¸æ¶ˆè",
        "imageUrl": "string"    // å›¾ç‰‡URL
      }
      // ... å…¶ä»–æœˆä»½
    ]
  }
}
```

## é¢˜åº“ç®¡ç†æ¥å£ (ç®¡ç†å‘˜)

### 1. ä¸Šä¼ PKèµ›é¢˜ç›®

**æ¥å£æè¿°**ï¼šä¸Šä¼ PKèµ›é¢˜ç›®

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**æ¥å£åœ°å€**ï¼š`/api/admin/questions/pk`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "date": "2023-05-20",                 // é¢˜ç›®ç”Ÿæ•ˆæ—¥æœŸ
  "questions": {
    "single": [                         // 5ä¸ªå•é€‰é¢˜
      {
        "text": "string",               // é¢˜ç›®å†…å®¹
        "options": ["string"],          // é€‰é¡¹æ•°ç»„
        "correctAnswer": 0,             // æ­£ç¡®ç­”æ¡ˆç´¢å¼•
        "difficulty": 2                 // éš¾åº¦ï¼š1-3
      }
      // ... å…±5ä¸ªå•é€‰é¢˜
    ],
    "multiple": [                       // 5ä¸ªå¤šé€‰é¢˜
      {
        "text": "string",               // é¢˜ç›®å†…å®¹
        "options": ["string"],          // é€‰é¡¹æ•°ç»„
        "correctAnswers": [0, 1],       // æ­£ç¡®ç­”æ¡ˆç´¢å¼•æ•°ç»„
        "difficulty": 2                 // éš¾åº¦ï¼š1-3
      }
      // ... å…±5ä¸ªå¤šé€‰é¢˜
    ],
    "fill": [                           // 5ä¸ªå¡«ç©ºé¢˜
      {
        "text": "string",               // é¢˜ç›®å†…å®¹ï¼Œä½¿ç”¨____è¡¨ç¤ºå¡«ç©ºå¤„
        "correctAnswer": "string",      // æ ‡å‡†ç­”æ¡ˆ
        "alternativeAnswers": ["string"], // å¯æ¥å—çš„æ›¿ä»£ç­”æ¡ˆ
        "difficulty": 2                 // éš¾åº¦ï¼š1-3
      }
      // ... å…±5ä¸ªå¡«ç©ºé¢˜
    ]
  }
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "date": "2023-05-20",
    "questionCount": {
      "single": 5,
      "multiple": 5,
      "fill": 5
    },
    "updateTime": "string"          // æ›´æ–°æ—¶é—´
  }
}
```

### 2. ä¸Šä¼ è®­ç»ƒé¢˜ç›®

**æ¥å£æè¿°**ï¼šä¸Šä¼ åŸå¸‚è®­ç»ƒæˆ–æ—¶èŠ‚è®­ç»ƒçš„é¢˜ç›®

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**æ¥å£åœ°å€**ï¼š`/api/admin/questions/training`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "type": "city",                     // è®­ç»ƒç±»å‹ï¼š"city"(åŸå¸‚è®­ç»ƒ)æˆ–"season"(æ—¶èŠ‚è®­ç»ƒ)
  "date": "2023-05-20",               // é¢˜ç›®ç”Ÿæ•ˆæ—¥æœŸ
  "questions": {
    "single": [                       // 5ä¸ªå•é€‰é¢˜
      {
        "text": "string",             // é¢˜ç›®å†…å®¹
        "options": ["string"],        // é€‰é¡¹æ•°ç»„
        "correctAnswer": 0,           // æ­£ç¡®ç­”æ¡ˆç´¢å¼•
        "difficulty": 2               // éš¾åº¦ï¼š1-3
      }
      // ... å…±5ä¸ªå•é€‰é¢˜
    ],
    "multiple": [                     // 5ä¸ªå¤šé€‰é¢˜
      {
        "text": "string",             // é¢˜ç›®å†…å®¹
        "options": ["string"],        // é€‰é¡¹æ•°ç»„
        "correctAnswers": [0, 1],     // æ­£ç¡®ç­”æ¡ˆç´¢å¼•æ•°ç»„
        "difficulty": 2               // éš¾åº¦ï¼š1-3
      }
      // ... å…±5ä¸ªå¤šé€‰é¢˜
    ],
    "fill": [                         // 5ä¸ªå¡«ç©ºé¢˜
      {
        "text": "string",             // é¢˜ç›®å†…å®¹ï¼Œä½¿ç”¨____è¡¨ç¤ºå¡«ç©ºå¤„
        "correctAnswer": "string",    // æ ‡å‡†ç­”æ¡ˆ
        "alternativeAnswers": ["string"], // å¯æ¥å—çš„æ›¿ä»£ç­”æ¡ˆ
        "difficulty": 2               // éš¾åº¦ï¼š1-3
      }
      // ... å…±5ä¸ªå¡«ç©ºé¢˜
    ]
  }
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "type": "city",
    "date": "2023-05-20",
    "questionCount": {
      "single": 5,
      "multiple": 5,
      "fill": 5
    },
    "updateTime": "string"          // æ›´æ–°æ—¶é—´
  }
}
```

### 3. ä¸Šä¼ åŸå¸‚æŒ‘æˆ˜é¢˜ç›®

**æ¥å£æè¿°**ï¼šä¸ºç‰¹å®šåŸå¸‚å¡ç‰‡ä¸Šä¼ æŒ‘æˆ˜é¢˜ç›®

**è¯·æ±‚æ–¹æ³•**ï¼šPOST

**æ¥å£åœ°å€**ï¼š`/api/admin/questions/city-challenge`

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "cityId": "string",                // åŸå¸‚ID
  "challenges": {
    "singleChoice": {                // å•é€‰é¢˜
      "question": "æ­å·æœ€è‘—åçš„æ™¯ç‚¹æ˜¯ï¼Ÿ",
      "options": ["è¥¿æ¹–", "è¥¿å¡˜", "ä¹Œé•‡", "åƒå²›æ¹–"],
      "correctAnswer": 0             // æ­£ç¡®ç­”æ¡ˆç´¢å¼•
    },
    "multipleChoice": {              // å¤šé€‰é¢˜
      "question": "ä¸‹åˆ—å“ªäº›æ˜¯æ­å·çš„ç‰¹äº§ï¼Ÿ",
      "options": ["é¾™äº•èŒ¶", "è¥¿æ¹–é†‹é±¼", "ä¸œå¡è‚‰", "å°ç¬¼åŒ…"],
      "correctAnswers": [0, 1, 2]    // æ­£ç¡®ç­”æ¡ˆç´¢å¼•æ•°ç»„
    },
    "puzzleImage": "file"            // æ‹¼å›¾å›¾ç‰‡æ–‡ä»¶
  }
}
```

**å“åº”ç»“æœ**ï¼š
```json
{
  "success": true,
  "message": "success",
  "data": {
    "cityId": "string",
    "cityTitle": "æ­å·",
    "challengesUpdated": ["singleChoice", "multipleChoice", "puzzle"],
    "updateTime": "string"           // æ›´æ–°æ—¶é—´
  }
}
```

## æ¥å£é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜ |
|-------|------|
| 1001  | å‚æ•°é”™è¯¯ |
| 1002  | ç”¨æˆ·æœªè®¤è¯ |
| 1003  | æƒé™ä¸è¶³ |
| 2001  | ç”¨æˆ·å·²é€‰æ‹©é˜µè¥ï¼Œä¸å¯æ›´æ”¹ |
| 2002  | æ— æ•ˆçš„é˜µè¥é€‰æ‹© |
| 3001  | é¢˜ç›®ä¸å­˜åœ¨ |
| 3002  | ç­”æ¡ˆæ ¼å¼é”™è¯¯ |
| 4001  | PKèµ›æœªå¼€å§‹ |
| 4002  | è¯¥é¢˜å·²è¢«æŠ¢ç­” |
| 4003  | ä¸åœ¨PKæ—¶é—´æ®µå†…ï¼ˆé19:30-19:45ï¼‰|
| 5001  | ç³»ç»Ÿå†…éƒ¨é”™è¯¯ |
| 6001  | ç”¨æˆ·ä¸æ˜¯ä¼šå‘˜ |
| 6002  | ä¼šå‘˜å·²è¿‡æœŸ |
| 7001  | æ–‡ä»¶ä¸Šä¼ å¤±è´¥ |
| 7002  | æ–‡ä»¶ç±»å‹ä¸æ”¯æŒ |
| 7003  | æ–‡ä»¶å¤§å°è¶…å‡ºé™åˆ¶ |

## æ¥å£å®ç°ä¼˜å…ˆçº§

å»ºè®®æŒ‰ç…§ä»¥ä¸‹ä¼˜å…ˆçº§å®ç°æ¥å£ï¼š

1. åŸå¸‚å¡ç‰‡ç›¸å…³æ¥å£ï¼ˆæ—¶åºç»çº¬-timeSequenceï¼‰
2. åšç‰©é¦†ç›¸å…³æ¥å£ï¼ˆç»¿å²¸åšç‰©é¦†-greenCliffï¼‰
3. ç”¨æˆ·é˜µè¥é€‰æ‹©/è·å–
4. è·å–è®­ç»ƒé¢˜ç›®ï¼ˆæ¯æ—¥æ›´æ–°ï¼‰
5. è·å–PKèµ›é¢˜ç›®ï¼ˆæ¯æ—¥19:30-19:45æ›´æ–°ï¼‰
6. æäº¤ç­”é¢˜å’ŒPKç­”æ¡ˆ
7. è·å–PKç»“æœå’Œæ’è¡Œæ¦œ

 
 
 
 